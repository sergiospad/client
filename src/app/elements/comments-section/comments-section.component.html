<div class="comments-section">
  @if (comments && comments.length > 0) {
    <div class="comments-list">
      @for (comment of comments; track comment.id; let last = $last) {
        <app-comment-box [comment]="comment"
                         [allowedToDelete] = "allowedToDeleteComment"
                         (deleteComment)="this.deleteComment.emit($event)">
        </app-comment-box>
      }
    </div>
  }

  <mat-form-field class="comment-field" appearance="outline">
    <mat-label>Add a comment...</mat-label>
    <input matInput
           [(ngModel)]="commentText"
           placeholder="Write a comment"
           (keyup.enter)="handleEnterPress(commentText, post)">
    <mat-hint align="end">{{ commentText.length }}/128</mat-hint>
  </mat-form-field>
</div>
