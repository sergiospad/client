@if (posts && user) {
  <div class="posts-container">
    @for (post of posts; track post.id) {
      <mat-card class="post-card" appearance="outlined">

        <app-post-header [post]="post"
                          [allowedToDelete] = allowToDelete
                         (deletePost)="this.deletePost.emit($event);">
        </app-post-header>

        <app-slider [images]="post.img"></app-slider>
        @if (post.caption) {
          <mat-card-content class="post-content">
            <p class="post-caption">{{ post.caption }}</p>
          </mat-card-content>
        }

        <app-like-button [liked] = "post.likedUsers.includes(user.id)"
                         [post]="post"
                         (postClicked)="this.postLiked.emit(post);">
        </app-like-button>

        <app-comments-section [comments]="post.fullComments"
                              [allowedToDeleteComment]="allowToDelete"
                              [post]="post"
                              (sendComment)="handleEnterPress($event.message, $event.post)"
                              (deleteComment)=this.deleteComment.emit($event);>
        </app-comments-section>

      </mat-card>
    }

    @empty {
      <div class="empty-state">
        <mat-icon class="empty-icon">photo_library</mat-icon>
        <h3>No posts yet</h3>
        <p>Be the first to share something!</p>
      </div>
    }
  </div>
}
